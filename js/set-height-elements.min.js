let Utils={mergeDeep(...e){let t=e=>e&&"object"==typeof e;return e.reduce((e,s)=>(Object.keys(s).forEach(i=>{let n=e[i],r=s[i];Array.isArray(n)&&Array.isArray(r)?e[i]=[...new Set([...r,...n])]:t(n)&&t(r)?e[i]=Utils.mergeDeep(n,r):e[i]=r}),e),{})}};function setHeightElements(e,t={}){let s=Utils.mergeDeep({autoInit:!0,cssVariable:"--max-value",gridOptions:null,initialIndex:0,classElementToOmit:"",on:{init(e){},afterResize(e){},afterChanges(e){},afterUpdate(e){},afterDestroy(e){}}},t),i=[],n=[...e].filter((e,t)=>s.initialIndex>0?t>=s.initialIndex&&e:e);this.config=s,this.elementsArray=e,this.values=0;let r=(e,t,s)=>{0!==e.length&&e.forEach((e,i)=>{e.style.setProperty(t,s)})},o=(e,t)=>{"init"===e&&s.on.init(t,this),"resize"===e&&s.on.afterResize(t),"changes"===e&&s.on.afterChanges(t),"update"===e&&s.on.afterUpdate(t),"destroy"===e&&s.on.afterDestroy(this)},a=e=>{let t=0;if(null==s.gridOptions){t=0;let i=[...n];r(i,s.cssVariable,"unset"),i.forEach((e,i)=>{let n=e.classList.contains(s.classElementToOmit);e.offsetHeight>t&&!n&&(t=e.offsetHeight)}),r(i,s.cssVariable,`${t}px`),this.values=t,o(e,t)}else{let a=[],l=[],h=s.gridOptions.defaultColumns,c=[...n];if(void 0===h){window.console.error("Coloca el valor de 'defaultColumns' para el correcto funcionamiento");return}void 0!==s.gridOptions.responsive&&Object.keys(s.gridOptions.responsive).reverse().forEach(e=>{!(window.innerWidth>Number(e))&&(h=s.gridOptions.responsive[e])});let f=c.length;for(;0!==f;){let u=c.splice(0,h);a.push(u),f=c.length}a.forEach(e=>{t=0,r(e,s.cssVariable,"unset"),e.forEach((e,i)=>{let n=e.classList.contains(s.classElementToOmit);e.offsetHeight>t&&!n&&(t=e.offsetHeight)}),r(e,s.cssVariable,`${t}px`),l.push(t)}),this.values=l,o(e,l)}},l=()=>{[...n].forEach((e,t)=>{e.style.removeProperty(s.cssVariable)})},h=()=>{a("resize")},c=()=>{a("changes")},f=()=>{[...n].forEach(e=>{let t=new window.MutationObserver(c);i.push(t)})},u=new window.ResizeObserver(h);return this.startResizeCalculation=()=>{u.observe(document.body)},this.stopResizeCalculation=()=>{u.unobserve(document.body)},this.startChangesObserver=()=>{[...n].forEach((e,t)=>{i[t].observe(e,{childList:!0,subtree:!0})})},this.stopChangesObserver=()=>{[...n].forEach((e,t)=>{i[t].disconnect()})},this.update=()=>{a("update")},this.init=()=>{a("init"),f(),this.startResizeCalculation(),this.startChangesObserver(),window.console.info("Se han configurado los elementos de manera existosa.")},this.destroy=()=>{l(),this.stopResizeCalculation(),this.stopChangesObserver(),this.values=0,i=[],o("destroy"),window.console.info("Se elimin\xf3 la configuraci\xf3n de los elementos.")},s.autoInit&&document.fonts.ready.then(()=>{this.init()}).catch(e=>{window.console.log(e)}),window.SHE.Instances.push(this),this}window.SHE=window.SHE||{Init:setHeightElements,Instances:[],Utils};export default setHeightElements;